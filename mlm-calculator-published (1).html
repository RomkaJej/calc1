<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MLM-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–∞</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-100">
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    function MLMCalculator() {
      const [rank, setRank] = useState(2);
      const [firstLine, setFirstLine] = useState(3);
      const [secondLine, setSecondLine] = useState(3);
      const [thirdLine, setThirdLine] = useState(3);
      const [pvPerUser, setPvPerUser] = useState(90);
      const [isNewbiePeriod, setIsNewbiePeriod] = useState(true);
      const [got3ClubInStart, setGot3ClubInStart] = useState(true);

      const linePercents = [
        0.1, 0.08, 0.06, 0.05, 0.04, 0.03, 0.02, 0.01, 0.005, 0.005
      ];

      const getLineBonus = (users, percent) => users * pvPerUser * percent;

      const structuralBonus =
        getLineBonus(firstLine, linePercents[0]) +
        (rank >= 2 ? getLineBonus(secondLine, linePercents[1]) : 0) +
        (rank >= 3 ? getLineBonus(thirdLine, linePercents[2]) : 0);

      const gvBonus = getLineBonus(firstLine, 0.1);
      const newbieBonus = isNewbiePeriod ? structuralBonus * 0.25 : 0;
      const startBonus = got3ClubInStart ? 30 : 0;
      const totalEur = structuralBonus + newbieBonus + startBonus;

      return (
        <div className="max-w-xl mx-auto mt-10 p-6 bg-white rounded-2xl shadow-xl space-y-6">
          <h1 className="text-2xl font-bold text-center">MLM-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–∞</h1>

          <div className="space-y-3">
            <label className="block">–¢–µ–∫—É—â–∏–π —Ä–∞–Ω–≥ (1-10):</label>
            <input type="number" min={1} max={10} value={rank} onChange={e => setRank(+e.target.value)} className="w-full border rounded p-2" />

            <label>–ö–æ–ª-–≤–æ Club members –≤ 1-–π –ª–∏–Ω–∏–∏:</label>
            <input type="number" value={firstLine} onChange={e => setFirstLine(+e.target.value)} className="w-full border rounded p-2" />

            <label>–ö–æ–ª-–≤–æ Club members –≤–æ 2-–π –ª–∏–Ω–∏–∏:</label>
            <input type="number" value={secondLine} onChange={e => setSecondLine(+e.target.value)} className="w-full border rounded p-2" />

            <label>–ö–æ–ª-–≤–æ Club members –≤ 3-–π –ª–∏–Ω–∏–∏:</label>
            <input type="number" value={thirdLine} onChange={e => setThirdLine(+e.target.value)} className="w-full border rounded p-2" />

            <label>–°–∫–æ–ª—å–∫–æ PV –Ω–∞ –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞:</label>
            <input type="number" value={pvPerUser} onChange={e => setPvPerUser(+e.target.value)} className="w-full border rounded p-2" />

            <label className="flex items-center gap-2">
              <input type="checkbox" checked={isNewbiePeriod} onChange={() => setIsNewbiePeriod(!isNewbiePeriod)} />
              –Ø –≤ –Ω–æ–≤–∏—á–∫–æ–≤–æ–º –ø–µ—Ä–∏–æ–¥–µ
            </label>

            <label className="flex items-center gap-2">
              <input type="checkbox" checked={got3ClubInStart} onChange={() => setGot3ClubInStart(!got3ClubInStart)} />
              –í –ø–µ—Ä–≤–æ–º –ø–µ—Ä–∏–æ–¥–µ –±—ã–ª–æ 3 Club members
            </label>
          </div>

          <div className="p-4 bg-gray-100 rounded-xl text-lg space-y-2">
            <p><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –±–æ–Ω—É—Å:</strong> ‚Ç¨{structuralBonus.toFixed(2)}</p>
            <p><strong>–ü–æ–¥–∞—Ä–æ—á–Ω—ã–π –±–æ–Ω—É—Å (GV):</strong> {gvBonus.toFixed(2)} GV</p>
            <p><strong>–ë–æ–Ω—É—Å –Ω–æ–≤–∏—á–∫–∞:</strong> ‚Ç¨{newbieBonus.toFixed(2)}</p>
            <p><strong>–°—Ç–∞—Ä—Ç–æ–≤—ã–π –±–æ–Ω—É—Å:</strong> ‚Ç¨{startBonus.toFixed(2)}</p>
            <hr />
            <p><strong>üí∞ –û–±—â–∏–π –¥–æ—Ö–æ–¥:</strong> ‚Ç¨{totalEur.toFixed(2)}</p>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<MLMCalculator />);
  </script>
</body>
</html>
