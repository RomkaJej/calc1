<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MLM Calculator</title>
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@7.0.0/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    function MLMCalculator() {
      const [isNewbiePeriod, setIsNewbiePeriod] = useState(false);
      const [lines, setLines] = useState(Array(10).fill(0));

      const calculateTotalBonus = () => {
        let totalBonus = 0;
        lines.forEach((members, index) => {
          const levelBonus = members * 90; // Replace with your calculation logic
          totalBonus += levelBonus;
        });
        return totalBonus;
      };

      const handleLineChange = (index, value) => {
        const updatedLines = [...lines];
        updatedLines[index] = value;
        setLines(updatedLines);
      };

      const totalBonus = calculateTotalBonus();
      const gvBonus = totalBonus * 0.1;
      const newbieBonus = totalBonus * 0.05;
      const startBonus = totalBonus * 0.02;

      return (
        <div style={{ backgroundColor: '#00C853', padding: '20px', borderRadius: '10px', color: 'white' }}>
          <h1>MLM калькулятор дохода</h1>

          <div>
            <label>Текущий ранг (1-10):</label>
            <input 
              type="range" 
              min="1" 
              max="10" 
              value={lines.filter(line => line > 0).length}
              onChange={(e) => {
                const value = e.target.value;
                const updatedLines = Array(10).fill(0);
                updatedLines[value - 1] = 1;
                setLines(updatedLines);
              }} 
            />
            <p>Ранг: {lines.filter(line => line > 0).length}</p>
          </div>

          <div>
            {lines.map((line, index) => (
              <div key={index}>
                <label>Кол-во Club members в {index + 1}-й линии:</label>
                <input 
                  type="number" 
                  value={line} 
                  onChange={(e) => handleLineChange(index, parseInt(e.target.value, 10))} 
                  min="0" 
                />
              </div>
            ))}
          </div>

          <div>
            <label>Сколько PV на одного человека:</label>
            <input type="number" value={90} disabled />
          </div>

          <div>
            <label>
              <input type="checkbox" checked={isNewbiePeriod} onChange={() => setIsNewbiePeriod(!isNewbiePeriod)} />
              Я в новичковом периоде
            </label>
          </div>

          <div>
            <p><strong>Структурный бонус:</strong> €{totalBonus.toFixed(2)}</p>
            <p><strong>Подарочный бонус (GV):</strong> {gvBonus.toFixed(2)} GV</p>
            <p><strong>Бонус новичка:</strong> €{newbieBonus.toFixed(2)}</p>
            <p><strong>Стартовый бонус:</strong> €{startBonus.toFixed(2)}</p>
            <p><strong>Общий доход:</strong> €{(totalBonus + newbieBonus + startBonus).toFixed(2)}</p>
          </div>
        </div>
      );
    }

    ReactDOM.render(<MLMCalculator />, document.getElementById('root'));
  </script>
</body>
</html>
