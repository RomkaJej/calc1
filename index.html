<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLM Калькулятор</title>
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.16.0/babel.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #28a745;
            color: white;
            padding: 20px;
        }
        .calculator {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            background: white;
            border-radius: 8px;
            color: black;
        }
        .button-group {
            margin-top: 20px;
        }
        button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
            margin-right: 10px;
        }
        button:hover {
            background-color: #218838;
        }
        input[type="number"] {
            padding: 10px;
            font-size: 16px;
            width: 100%;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        input[type="range"] {
            width: 100%;
        }
    </style>
</head>
<body>

<div id="root"></div>

<script type="text/babel">
  const { useState, useEffect } = React;

  const MLMCalculator = () => {
    const [rank, setRank] = useState(1);
    const [members, setMembers] = useState({ 1: 3, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0, 10: 0 });
    const [pvPerPerson, setPvPerPerson] = useState(90);
    const [totalBonus, setTotalBonus] = useState(0);

    useEffect(() => {
      // Calculate total bonus based on the inputs
      calculateBonus();
    }, [rank, members]);

    const calculateBonus = () => {
      // Simplified total bonus calculation logic for example
      let totalEur = 0;
      const totalMembers = Object.values(members).reduce((acc, curr) => acc + curr, 0);
      totalEur = totalMembers * pvPerPerson * 0.1; // Calculate bonus as a simple example
      setTotalBonus(totalEur);
    };

    const handleRankChange = (e) => {
      setRank(parseInt(e.target.value));
      calculateBonus(); // Recalculate when rank changes
    };

    const handleMemberChange = (line, e) => {
      setMembers(prevMembers => {
        const newMembers = { ...prevMembers, [line]: parseInt(e.target.value) };
        return newMembers;
      });
    };

    return (
      <div className="calculator">
        <h1>MLM калькулятор дохода</h1>
        <div>
          <label>Текущий ранг (1-10): </label>
          <input
            type="range"
            min="1"
            max="10"
            value={rank}
            onChange={handleRankChange}
          />
          <p>Ранг: {rank}</p>
        </div>

        <div>
          <label>Кол-во Club members в 1-й линии:</label>
          <input
            type="number"
            value={members[1]}
            onChange={(e) => handleMemberChange(1, e)}
          />
        </div>

        {rank > 1 && (
          <div>
            <label>Кол-во Club members в 2-й линии:</label>
            <input
              type="number"
              value={members[2]}
              onChange={(e) => handleMemberChange(2, e)}
            />
          </div>
        )}

        {rank > 2 && (
          <div>
            <label>Кол-во Club members в 3-й линии:</label>
            <input
              type="number"
              value={members[3]}
              onChange={(e) => handleMemberChange(3, e)}
            />
          </div>
        )}

        {rank > 3 && (
          <div>
            <label>Кол-во Club members в 4-й линии:</label>
            <input
              type="number"
              value={members[4]}
              onChange={(e) => handleMemberChange(4, e)}
            />
          </div>
        )}

        {rank > 4 && (
          <div>
            <label>Кол-во Club members в 5-й линии:</label>
            <input
              type="number"
              value={members[5]}
              onChange={(e) => handleMemberChange(5, e)}
            />
          </div>
        )}

        {rank > 5 && (
          <div>
            <label>Кол-во Club members в 6-й линии:</label>
            <input
              type="number"
              value={members[6]}
              onChange={(e) => handleMemberChange(6, e)}
            />
          </div>
        )}

        {rank > 6 && (
          <div>
            <label>Кол-во Club members в 7-й линии:</label>
            <input
              type="number"
              value={members[7]}
              onChange={(e) => handleMemberChange(7, e)}
            />
          </div>
        )}

        {rank > 7 && (
          <div>
            <label>Кол-во Club members в 8-й линии:</label>
            <input
              type="number"
              value={members[8]}
              onChange={(e) => handleMemberChange(8, e)}
            />
          </div>
        )}

        {rank > 8 && (
          <div>
            <label>Кол-во Club members в 9-й линии:</label>
            <input
              type="number"
              value={members[9]}
              onChange={(e) => handleMemberChange(9, e)}
            />
          </div>
        )}

        {rank > 9 && (
          <div>
            <label>Кол-во Club members в 10-й линии:</label>
            <input
              type="number"
              value={members[10]}
              onChange={(e) => handleMemberChange(10, e)}
            />
          </div>
        )}

        <div>
          <label>Сколько PV на одного человека:</label>
          <input
            type="number"
            value={pvPerPerson}
            onChange={(e) => setPvPerPerson(e.target.value)}
          />
        </div>

        <div>
          <h3>Структурный бонус: €{totalBonus.toFixed(2)}</h3>
        </div>
      </div>
    );
  };

  ReactDOM.render(<MLMCalculator />, document.getElementById('root'));
</script>

</body>
</html>
